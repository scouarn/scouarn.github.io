<h1>Interruptions et ordonnancement<span class="date">22/03/2020</span></h1>


<p>
  Parfois l'on voudrait aussi pouvoir ordoner au processeur d'excécuter en priorité un certain programme pour
  revenir ensuite au programme initial sans le perturber, on parle alors d'interruption.
  Par exemple si l'on veut faire coexister plusieurs programmes, on a un problème étant donné
  que le processeur ne peut pas les exécuter simultanément.
  On peut ruser en ayant une horloge qui périodiquement interrompt le processeur depuis l'extérieur pour demander à un ordonnanceur ("système d'exploitation")
  de prendre le relai. L'OS a alors pour rôle de gérer les différents programmes, il peut alors mettre en pause
  le programme qui était en cours d'exécution et sortir de l'interruption sur un autre programme.
  Il y a beaucoup à dire sur les systèmes d'exploitation, je programmerais sans doute par la suite un ordonnanceur.
</p>

<img src="/img/interruption.svg" class="center half" alt="interruption et OS">

<p>
  Les interruptions peuvent évidemment avoir plein d'autres applications, et ne pas seulement venir d'une horloge.
  L'exemple du système d'exploitation permettait d'expliquer deux principes en même temps.
  Un autre exemple : lorsque l'on rabat l'écran d'un ordinateur portable, une interruption est demandée pour mettre l'ordinateur en veille.
  Notons qu'une interruption peut également venir d'un programme au lieu d'un périphérique externe,
  par exemple lorsque qu'un programme a terminé son exécution il est préférable qu'il fasse appel à l'OS
  plutôt que de stopper complètement le processeur avec une opération HALT.
  Pour cela le programme doit manuellement mettre le flag "interruption" du registre des flags.
  La fonction première de celui-ci de permettre d'ignorer les demandes d'interruptions lorsque le processeur est déjà interrompu.
  Il arrive parfois que deux interruptions différentes soient demandées en même temps, il peut donc y avoir une prioritisation.

</p>
