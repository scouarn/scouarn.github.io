<h1>Revue des spécifications<span class="date">24/03/2020</span></h1>

<p>
Je me suis rendu compte que l'architecture ne permettait pas de charger une valeur à une adresse qui
aurait été calculée : la partie UAL est complètement isolée du bus d'adresses. Il y a bien le registre
MH mais il permet uniquement de générer des adresses multiples de 256, l'autre solution aurait été
que le programme se modifie lui-même au cours de son exécution mais c'est une technique qui n'est pas
toujours viable.
</p>
<p>
Je vais donc enlever l'accumulateur B qui n'a finalement pas vraiment d'utilité pour pouvoir libérer un
bit les octets d'instruction. J'ajoute un additionneur pour relier l'accumulateur au bus d'adresses,
le bit en plus servira alors à l'activer au bon moment.
Il doit aussi servir de registre pour stocker temporairement l'adresse générée.
Pour éviter les problèmes d'overflow, il donne en sortie un nombre 9 bits.
En assembleur le mode addition sera représenté par le caractère '$'.
</p>
<p>
  Exemples :
</p>

<pre style="background-color:white;font-size:1.2em;padding:5px;" class="center four-fifths">
64   //le nombre à l'adresse 64
$64  //le nombre à l'adresse 64+A
#64  //le nombre 64
$#64 //le nombre 64+A
</pre>

<p>
Nouveau patron d'instruction :
</p>

<table style="text-align:center;min-width:600px;width:80%;">
  <tr>
    <td colspan="16">REGISTRE D'INSTRUCTION (OP)</td>
  </tr>
  <tr>
    <td colspan="8">OCTET INSTRUCTION</td>
    <td colspan="8">OCTET ARGUMENT</td>
  </tr>
  <tr>
      <td colspan="2">OPTYPE</td>
      <td colspan="3">OPCODE</td>
      <th>ADD</th>
      <td>FLG</td>
      <td>ADR</td>

      <td colspan="8">nombre/adresse</td>
  </tr>
  <tr>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>

      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
  </tr>

</table>

<p>
Nouvelle architecture :
</p>

<img src="/img/architecture2.svg" class="center four-fifths" alt="architecture">
